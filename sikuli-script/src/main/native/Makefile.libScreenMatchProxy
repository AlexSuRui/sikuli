DEV_ROOT=../../..
include $(DEV_ROOT)/Makefile.common
include Makefile.common

LDFLAGS+=-ltiff 

OBJS = EventManagerProxy.o FinderProxy.o finder.o event-manager.o template-matcher.o TimingBlock.o
DYN_LIB = $(JNI_TARGET_DIR)/libScreenMatchProxy.$(DYN_LIB_POSTFIX) 

default $(DYN_LIB): $(OBJS) $(JNI_TARGET_DIR)
	$(CXX) $(OBJS) -o $(DYN_LIB) $(LDFLAGS) 

screenmatch: $(OBJS) screenmatch.o
	$(CXX) $(OBJS) screenmatch.o -o screenmatch `pkg-config --libs opencv` $(DEBUG) -arch i386
